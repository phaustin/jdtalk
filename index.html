{
 "cells": [
  {
   "cell_type": "markdown",
   "metadata": {
    "slideshow": {
     "slide_type": "slide"
    }
   },
   "source": [
    "\n",
    "# Large scale compution for research and teaching\n",
    "\n",
    "## Phil Austin, Earth, Ocean and Atmospheric Sciences, UBC"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {
    "slideshow": {
     "slide_type": "slide"
    }
   },
   "source": [
    "## We are in an amplifying feedback loop for large-scale computing\n",
    "\n",
    "<img src=\"images/linux_flow.png\" width=\"80%\">\n"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {
    "slideshow": {
     "slide_type": "slide"
    }
   },
   "source": [
    "## The rise of Linux supercomputers\n",
    "\n",
    "<img src=\"images/Operating_systems_used_on_top_500_supercomputers.png\" width=\"80%\">\n",
    "\n",
    "Source [Wikipedia](https://en.wikipedia.org/wiki/Usage_share_of_operating_systems)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {
    "slideshow": {
     "slide_type": "slide"
    }
   },
   "source": [
    "## Simultaneously -- research data is growing exponentially\n",
    "\n",
    "### The easy, mean-field problems are done, we are left with non-linear, coupled systems displaying large variability\n",
    "\n",
    "### Focusing on tail probabilities means long runs, lots of ensemble members, massive satellite datasets"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {
    "slideshow": {
     "slide_type": "slide"
    }
   },
   "source": [
    "## Big data: 2019 -- NASA projects 250 Pbytes by 2025\n",
    "\n",
    "<img src=\"images/EOSDIS_archive_growth_updated_resize.jpg\" width=\"80%\">\n",
    "\n",
    "### Storing 1 PByte:  $US 200,000/year.  Moving 1 Pbyte at 1 Gbs takes about 1 year for a single connection."
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {
    "slideshow": {
     "slide_type": "slide"
    }
   },
   "source": [
    "## Open source image downloads\n",
    "\n",
    "<img src=\"images/opensat-downloads.png\" width=\"80%\">\n"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {
    "slideshow": {
     "slide_type": "slide"
    }
   },
   "source": [
    "## The Pangeo Community  -- new open source tools for petabyte-scale computing\n",
    "\n",
    "### [Pangeo website](https://pangeo.io/index.html)\n",
    "\n",
    "### [Pangeo software stack](https://pangeo.io/quickstart.html#quickstart) and [technical architecture](https://pangeo.io/architecture.html#architecture)\n",
    "\n",
    "### [Ryan Abernathy's community book proposal](https://hackmd.io/dWaa5bcdQqe33Y9yGL9YAQ)\n",
    "\n"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {
    "slideshow": {
     "slide_type": "slide"
    }
   },
   "source": [
    "## Pangeo at EOAS -- dask running on an optimum cluster node\n",
    "\n",
    "[group/reduce for 150 Gbytes on 6 cores](https://drive.google.com/file/d/17rfYW6hbMeiBVkywF7btUnY7UB5warkD/view)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {
    "slideshow": {
     "slide_type": "slide"
    }
   },
   "source": [
    "## Ubiqutous cloud computing for education  (PIMS, Jim Colliander)\n",
    "\n",
    "**Scenario 1: UBC Alone -- Jupyterhub on AWS/Google/Azure**\n",
    "\n",
    "Expansion will slow as the user base saturates.\n",
    "\n",
    "| Year | education users | research users | Engineers| Total |\n",
    "| -------- | -------- | -------- | ----- | ---- |\n",
    "| 2020     | 10,000    | 500     | 2 | 275,000 |\n",
    "| 2021     | 20,000    | 1,000 | 2 | 350,000 |\n",
    "| 2022     | 40,000    | 2,000 | 2 |   500,000 |  \n",
    "| 2023     | 50,000    | 3,000 | 2 | 590,000 |\n",
    "| 2024     | 55,000    | 3,500 | 2 |   635,000 |        \n",
    "\n",
    "Average cost: $10.85/user/year\n",
    "\n",
    "**Scenario 2: University-led Consortium -- Jupyterhub on AWS/Google/Azure**\n",
    "\n",
    "Expansion will continue as new universities become customers. Saturation in Canada will likely occur around 700,000 users.\n",
    "\n",
    "| Year | education users | research users | Engineers| Total |\n",
    "| -------- | -------- | -------- | ----- | ---- |\n",
    "| 2020     | 30,000    | 1,500     | 3 | 525,000 |\n",
    "| 2021     | 60,000    | 3,000 | 3 | 750,000 |\n",
    "| 2022     | 120,000    | 6,000 | 3 |   1,200,000 | \n",
    "| 2023     | 240,000    | 12,000 |   4 | 2,200,000 |\n",
    "| 2024     | 480,000   | 24,000 | 4 | 4,000,000 |\n",
    "\n",
    "Averge cost: $7.93/user/year"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {
    "slideshow": {
     "slide_type": "slide"
    }
   },
   "source": [
    "## Summary\n",
    "\n",
    "### Things are moving very rapidily\n",
    "\n",
    "### We need to teach graduate students and faculty cloud-native data analysis -- see my email about ATSC 500\n",
    "\n",
    "### Jupyter/python are central to the Pangean effort to develop tools and teaching materials -- expecting to see a global community grow in the next 2-3 years\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  }
 ],
 "metadata": {
  "celltoolbar": "Slideshow",
  "jupytext": {
   "cell_metadata_filter": "all",
   "notebook_metadata_filter": "all,-language_info",
   "text_representation": {
    "extension": ".py",
    "format_name": "percent",
    "format_version": "1.2",
    "jupytext_version": "1.2.1"
   }
  },
  "kernelspec": {
   "display_name": "Python 3",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.7.3"
  },
  "toc": {
   "base_numbering": 1,
   "nav_menu": {},
   "number_sections": false,
   "sideBar": true,
   "skip_h1_title": false,
   "title_cell": "Table of Contents",
   "title_sidebar": "Contents",
   "toc_cell": false,
   "toc_position": {
    "height": "calc(100% - 180px)",
    "left": "10px",
    "top": "150px",
    "width": "165px"
   },
   "toc_section_display": true,
   "toc_window_display": false
  }
 },
 "nbformat": 4,
 "nbformat_minor": 2
}
